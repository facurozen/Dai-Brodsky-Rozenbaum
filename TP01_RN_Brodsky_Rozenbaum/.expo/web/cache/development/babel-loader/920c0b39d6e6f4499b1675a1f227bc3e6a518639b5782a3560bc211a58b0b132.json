{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport axios from 'axios';\nimport NavBar from \"../components/navBar.jsx\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AdivinarPersonaje(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useState3 = useState({\n      mail: null,\n      password: null\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  var textoPuntaje = `Puntaje: \nrespusta correcta: +10 \nrespuesta incorrecta: -5\nrespuesta salteada: -3`;\n  useEffect(function () {\n    var storedMail = localStorage.getItem('mail');\n    setUser({\n      mail: storedMail\n    });\n  }, []);\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    puntaje = _useState6[0],\n    setPuntaje = _useState6[1];\n  var _useState7 = useState({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    random = _useState8[0],\n    setRandom = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    personajes = _useState10[0],\n    setPersonajes = _useState10[1];\n  var _useState11 = useState(15),\n    _useState12 = _slicedToArray(_useState11, 2),\n    tiempo = _useState12[0],\n    setTiempo = _useState12[1];\n  var _useState13 = useState(),\n    _useState14 = _slicedToArray(_useState13, 2),\n    ref = _useState14[0],\n    setRef = _useState14[1];\n  useEffect(function () {\n    if (tiempo > 0) {\n      setRef(setTimeout(function () {\n        setTiempo(function (t) {\n          return t - 1;\n        });\n      }, 1000));\n    } else {\n      console.log(\"no hay mas tiempo zapallo\");\n    }\n  }, [tiempo]);\n  useEffect(function () {\n    axios.get('http://gateway.marvel.com/v1/public/characters?ts=1&apikey=0f34133c1783016d6d25e28f6e704f10&hash=013f4ebfd13ba730cf1ba5f735a4bb88').then(function (res) {\n      setPersonajes(res.data.data.results);\n      var randomElement = arrayPaises[Math.floor(Math.random() * res.data.data.results.length)];\n      setRandom(randomElement);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }, []);\n  var verificarRespuesta = function verificarRespuesta(e) {\n    e.preventDefault();\n    var tiempoRespuesta = tiempo;\n    console.log(tiempoRespuesta);\n    if (e.target.respuesta.value === random.name) {\n      setPuntaje(puntaje + 10 + tiempo);\n    } else {\n      setPuntaje(puntaje - 1);\n    }\n    console.log(e.target.respuesta.value);\n    console.log(random.name);\n    var randomElement = personajes[Math.floor(Math.random() * 220)];\n    setRandom(randomElement);\n    e.target.respuesta.value = '';\n    clearTimeout(ref);\n    setTiempo(15);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(NavBar, {}), _jsxs(View, {\n      style: {\n        display: 'flex',\n        margin: '20px'\n      },\n      children: [_jsxs(Text, {\n        style: {\n          color: 'white',\n          fontSize: '25px',\n          textAlign: 'center'\n        },\n        children: [\"Bienvenido \", user.mail]\n      }), _jsx(Text, {\n        style: {\n          marginTop: '10px',\n          color: 'white',\n          fontSize: '15px',\n          textAlign: 'center'\n        },\n        children: \"Cuando usted apriete comenzar. El tiempo arrancara y en 30 segundos para adivinar la mayor cantidad de personajes\"\n      }), _jsx(Text, {\n        style: {\n          marginTop: '25px',\n          color: 'white',\n          fontSize: '18px',\n          textAlign: 'left'\n        },\n        children: textoPuntaje\n      })]\n    }), _jsx(Image, {\n      source: {\n        uri: `${item.thumbnail.path}.${item.thumbnail.extension}`\n      },\n      style: styles.imagenBandera\n    }), _jsxs(View, {\n      style: styles.formContainer,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Adivina la bandera\",\n        name: \"respuesta\",\n        value: respuesta,\n        onChangeText: function onChangeText(text) {\n          return setRespuesta(text);\n        }\n      }), _jsx(TouchableOpacity, {\n        style: styles.button,\n        onPress: verificarRespuesta,\n        children: _jsx(Text, {\n          children: \"Enviar\"\n        })\n      })]\n    }), _jsxs(Text, {\n      style: styles.infoText,\n      children: [\"Puntaje: \", puntaje, \" Tiempo: \", tiempo]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'black'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","Image","TouchableOpacity","StyleSheet","Modal","FlatList","axios","NavBar","jsx","_jsx","jsxs","_jsxs","AdivinarPersonaje","_ref","route","navigation","_useState","_useState2","_slicedToArray","modalVisible","setModalVisible","_useState3","mail","password","_useState4","user","setUser","textoPuntaje","storedMail","localStorage","getItem","_useState5","_useState6","puntaje","setPuntaje","_useState7","_useState8","random","setRandom","_useState9","_useState10","personajes","setPersonajes","_useState11","_useState12","tiempo","setTiempo","_useState13","_useState14","ref","setRef","setTimeout","t","console","log","get","then","res","data","results","randomElement","arrayPaises","Math","floor","length","catch","error","verificarRespuesta","e","preventDefault","tiempoRespuesta","target","respuesta","value","name","clearTimeout","style","styles","container","children","display","margin","color","fontSize","textAlign","marginTop","source","uri","item","thumbnail","path","extension","imagenBandera","formContainer","TextInput","input","placeholder","onChangeText","text","setRespuesta","button","onPress","infoText","create","flex","backgroundColor"],"sources":["D:/TRABAJOS/DAI/Dai-Brodsky-Rozenbaum-Jaichenco/TP01_RN_Brodsky_Rozenbaum/src/screens/AdivinarPersonaje.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, Image, TouchableOpacity, StyleSheet, Modal, FlatList } from 'react-native';\r\nimport axios from 'axios';\r\nimport NavBar from '../components/navBar.jsx'\r\n\r\nexport default function AdivinarPersonaje({ route, navigation }) {\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [user, setUser] = useState({ mail: null, password: null, });\r\n    let textoPuntaje = `Puntaje: \r\nrespusta correcta: +10 \r\nrespuesta incorrecta: -5\r\nrespuesta salteada: -3`;\r\n\r\n    useEffect(() => {\r\n        const storedMail = localStorage.getItem('mail');\r\n        setUser({ mail: storedMail });\r\n    }, []);\r\n\r\n    // logica del juego!!\r\n    const [puntaje, setPuntaje] = useState(0);\r\n    const [random, setRandom] = useState({});\r\n    const [personajes, setPersonajes] = useState([]);\r\n    const [tiempo, setTiempo] = useState(15);\r\n    const [ref, setRef] = useState();\r\n\r\n    useEffect(() => {\r\n        if (tiempo > 0) {\r\n            setRef(setTimeout(() => {\r\n                setTiempo(t => t - 1);\r\n            }, 1000));\r\n        } else {\r\n            console.log(\"no hay mas tiempo zapallo\");\r\n        }\r\n    }, [tiempo])\r\n\r\n\r\n\r\n\r\n    useEffect(() => { // en este useEffect me gustaria cargar todos los personaje para hacer el juego!\r\n        axios.get('http://gateway.marvel.com/v1/public/characters?ts=1&apikey=0f34133c1783016d6d25e28f6e704f10&hash=013f4ebfd13ba730cf1ba5f735a4bb88')\r\n            .then((res) => {\r\n                setPersonajes(res.data.data.results);\r\n                const randomElement = arrayPaises[Math.floor(Math.random() * res.data.data.results.length)];\r\n                setRandom(randomElement);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }, []);\r\n\r\n    const verificarRespuesta = (e) => {\r\n        e.preventDefault()\r\n        const tiempoRespuesta = tiempo;\r\n        console.log(tiempoRespuesta);\r\n        // ACTUALIZAR PUNTAJE\r\n        if (e.target.respuesta.value === random.name) {\r\n            setPuntaje(puntaje + 10 + tiempo);\r\n        }\r\n        else {\r\n            setPuntaje(puntaje - 1)\r\n        }\r\n        console.log(e.target.respuesta.value);\r\n        console.log(random.name);\r\n        // NUEVA BANDERA\r\n        const randomElement = personajes[Math.floor(Math.random() * 220)];\r\n        setRandom(randomElement);\r\n        e.target.respuesta.value = '';\r\n        clearTimeout(ref);\r\n        setTiempo(15);\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <NavBar />\r\n            <View style={{ display: 'flex', margin: '20px' }}>\r\n                <Text style={{ color: 'white', fontSize: '25px', textAlign: 'center' }}>Bienvenido {user.mail}</Text>\r\n                <Text style={{ marginTop: '10px', color: 'white', fontSize: '15px', textAlign: 'center' }}>Cuando usted apriete comenzar. El tiempo arrancara y en 30 segundos para adivinar la mayor cantidad de personajes</Text>\r\n                <Text style={{ marginTop: '25px', color: 'white', fontSize: '18px', textAlign: 'left' }}>{textoPuntaje}</Text>\r\n            </View>\r\n            <Image source={{ uri: `${item.thumbnail.path}.${item.thumbnail.extension}` }} style={styles.imagenBandera} />\r\n            <View style={styles.formContainer}>\r\n                <TextInput\r\n                    style={styles.input}\r\n                    placeholder=\"Adivina la bandera\"\r\n                    name=\"respuesta\"\r\n                    value={respuesta}\r\n                    onChangeText={(text) => setRespuesta(text)}\r\n                />\r\n                <TouchableOpacity style={styles.button} onPress={verificarRespuesta}>\r\n                    <Text>Enviar</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n            <Text style={styles.infoText}>Puntaje: {puntaje} Tiempo: {tiempo}</Text>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: 'black',\r\n    },\r\n});\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAEnD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM;AAAgC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE7C,eAAe,SAASC,iBAAiBA,CAAAC,IAAA,EAAwB;EAAA,IAArBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EACzD,IAAAC,SAAA,GAAwClB,QAAQ,CAAC,KAAK,CAAC;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAhDG,YAAY,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EACpC,IAAAI,UAAA,GAAwBvB,QAAQ,CAAC;MAAEwB,IAAI,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAM,CAAC,CAAC;IAAAC,UAAA,GAAAN,cAAA,CAAAG,UAAA;IAA1DI,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EACpB,IAAIG,YAAY,GAAI;AACxB;AACA;AACA,uBAAuB;EAEnB9B,SAAS,CAAC,YAAM;IACZ,IAAM+B,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/CJ,OAAO,CAAC;MAAEJ,IAAI,EAAEM;IAAW,CAAC,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAGN,IAAAG,UAAA,GAA8BjC,QAAQ,CAAC,CAAC,CAAC;IAAAkC,UAAA,GAAAd,cAAA,CAAAa,UAAA;IAAlCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAAG,UAAA,GAA4BrC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAsC,UAAA,GAAAlB,cAAA,CAAAiB,UAAA;IAAjCE,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EACxB,IAAAG,UAAA,GAAoCzC,QAAQ,CAAC,EAAE,CAAC;IAAA0C,WAAA,GAAAtB,cAAA,CAAAqB,UAAA;IAAzCE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAChC,IAAAG,WAAA,GAA4B7C,QAAQ,CAAC,EAAE,CAAC;IAAA8C,WAAA,GAAA1B,cAAA,CAAAyB,WAAA;IAAjCE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EACxB,IAAAG,WAAA,GAAsBjD,QAAQ,CAAC,CAAC;IAAAkD,WAAA,GAAA9B,cAAA,CAAA6B,WAAA;IAAzBE,GAAG,GAAAD,WAAA;IAAEE,MAAM,GAAAF,WAAA;EAElBnD,SAAS,CAAC,YAAM;IACZ,IAAIgD,MAAM,GAAG,CAAC,EAAE;MACZK,MAAM,CAACC,UAAU,CAAC,YAAM;QACpBL,SAAS,CAAC,UAAAM,CAAC;UAAA,OAAIA,CAAC,GAAG,CAAC;QAAA,EAAC;MACzB,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC,MAAM;MACHC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IAC5C;EACJ,CAAC,EAAE,CAACT,MAAM,CAAC,CAAC;EAKZhD,SAAS,CAAC,YAAM;IACZS,KAAK,CAACiD,GAAG,CAAC,mIAAmI,CAAC,CACzIC,IAAI,CAAC,UAACC,GAAG,EAAK;MACXf,aAAa,CAACe,GAAG,CAACC,IAAI,CAACA,IAAI,CAACC,OAAO,CAAC;MACpC,IAAMC,aAAa,GAAGC,WAAW,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACzB,MAAM,CAAC,CAAC,GAAGoB,GAAG,CAACC,IAAI,CAACA,IAAI,CAACC,OAAO,CAACK,MAAM,CAAC,CAAC;MAC3F1B,SAAS,CAACsB,aAAa,CAAC;IAC5B,CAAC,CAAC,CACDK,KAAK,CAAC,UAACC,KAAK,EAAK;MACdb,OAAO,CAACa,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,CAAC,EAAK;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAMC,eAAe,GAAGzB,MAAM;IAC9BQ,OAAO,CAACC,GAAG,CAACgB,eAAe,CAAC;IAE5B,IAAIF,CAAC,CAACG,MAAM,CAACC,SAAS,CAACC,KAAK,KAAKpC,MAAM,CAACqC,IAAI,EAAE;MAC1CxC,UAAU,CAACD,OAAO,GAAG,EAAE,GAAGY,MAAM,CAAC;IACrC,CAAC,MACI;MACDX,UAAU,CAACD,OAAO,GAAG,CAAC,CAAC;IAC3B;IACAoB,OAAO,CAACC,GAAG,CAACc,CAAC,CAACG,MAAM,CAACC,SAAS,CAACC,KAAK,CAAC;IACrCpB,OAAO,CAACC,GAAG,CAACjB,MAAM,CAACqC,IAAI,CAAC;IAExB,IAAMd,aAAa,GAAGnB,UAAU,CAACqB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACzB,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;IACjEC,SAAS,CAACsB,aAAa,CAAC;IACxBQ,CAAC,CAACG,MAAM,CAACC,SAAS,CAACC,KAAK,GAAG,EAAE;IAC7BE,YAAY,CAAC1B,GAAG,CAAC;IACjBH,SAAS,CAAC,EAAE,CAAC;EACjB,CAAC;EAED,OACInC,KAAA,CAACZ,IAAI;IAAC6E,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC1BtE,IAAA,CAACF,MAAM,IAAE,CAAC,EACVI,KAAA,CAACZ,IAAI;MAAC6E,KAAK,EAAE;QAAEI,OAAO,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAO,CAAE;MAAAF,QAAA,GAC7CpE,KAAA,CAACX,IAAI;QAAC4E,KAAK,EAAE;UAAEM,KAAK,EAAE,OAAO;UAAEC,QAAQ,EAAE,MAAM;UAAEC,SAAS,EAAE;QAAS,CAAE;QAAAL,QAAA,GAAC,aAAW,EAACtD,IAAI,CAACH,IAAI;MAAA,CAAO,CAAC,EACrGb,IAAA,CAACT,IAAI;QAAC4E,KAAK,EAAE;UAAES,SAAS,EAAE,MAAM;UAAEH,KAAK,EAAE,OAAO;UAAEC,QAAQ,EAAE,MAAM;UAAEC,SAAS,EAAE;QAAS,CAAE;QAAAL,QAAA,EAAC;MAAiH,CAAM,CAAC,EACnNtE,IAAA,CAACT,IAAI;QAAC4E,KAAK,EAAE;UAAES,SAAS,EAAE,MAAM;UAAEH,KAAK,EAAE,OAAO;UAAEC,QAAQ,EAAE,MAAM;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAAL,QAAA,EAAEpD;MAAY,CAAO,CAAC;IAAA,CAC5G,CAAC,EACPlB,IAAA,CAACR,KAAK;MAACqF,MAAM,EAAE;QAAEC,GAAG,EAAG,GAAEC,IAAI,CAACC,SAAS,CAACC,IAAK,IAAGF,IAAI,CAACC,SAAS,CAACE,SAAU;MAAE,CAAE;MAACf,KAAK,EAAEC,MAAM,CAACe;IAAc,CAAE,CAAC,EAC7GjF,KAAA,CAACZ,IAAI;MAAC6E,KAAK,EAAEC,MAAM,CAACgB,aAAc;MAAAd,QAAA,GAC9BtE,IAAA,CAACqF,SAAS;QACNlB,KAAK,EAAEC,MAAM,CAACkB,KAAM;QACpBC,WAAW,EAAC,oBAAoB;QAChCtB,IAAI,EAAC,WAAW;QAChBD,KAAK,EAAED,SAAU;QACjByB,YAAY,EAAE,SAAAA,aAACC,IAAI;UAAA,OAAKC,YAAY,CAACD,IAAI,CAAC;QAAA;MAAC,CAC9C,CAAC,EACFzF,IAAA,CAACP,gBAAgB;QAAC0E,KAAK,EAAEC,MAAM,CAACuB,MAAO;QAACC,OAAO,EAAElC,kBAAmB;QAAAY,QAAA,EAChEtE,IAAA,CAACT,IAAI;UAAA+E,QAAA,EAAC;QAAM,CAAM;MAAC,CACL,CAAC;IAAA,CACjB,CAAC,EACPpE,KAAA,CAACX,IAAI;MAAC4E,KAAK,EAAEC,MAAM,CAACyB,QAAS;MAAAvB,QAAA,GAAC,WAAS,EAAC9C,OAAO,EAAC,WAAS,EAACY,MAAM;IAAA,CAAO,CAAC;EAAA,CACtE,CAAC;AAEf;AAEA,IAAMgC,MAAM,GAAG1E,UAAU,CAACoG,MAAM,CAAC;EAC7BzB,SAAS,EAAE;IACP0B,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE;EACrB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}